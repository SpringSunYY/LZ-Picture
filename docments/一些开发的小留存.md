## 留存

### 全局加载器

```vue
<template>
  <transition name="fade">
    <div v-if="isLoading" class="full-screen-loader">
      <div class="loader-content">
        <div class="glow-circle"></div>
        <div class="loader-title">LZ-Picture</div>
        <div class="loader-subtitle">我始终相信，每一张图片都有属于自己的故事，而你，就是那个抒写故事的人。</div>
        <div class="loader-subtitle">资源加载中...</div>
      </div>
    </div>
    <div v-else id="app">
      <Layout />
    </div>
  </transition>
</template>

<script setup lang="ts">
import Layout from '@/layout/index.vue'
import { ref, onMounted } from 'vue'

const isLoading = ref(true)

onMounted(async () => {
  // 模拟初始化数据加载
  await new Promise(resolve => setTimeout(resolve, 500))
  isLoading.value = false
})
</script>

<style scoped>
/* 过渡动画 */
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.5s ease;
}
.fade-enter-from, .fade-leave-to {
  opacity: 0;
}

/* 全屏加载容器 */
.full-screen-loader {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, #cacad6, rgba(0, 0, 255, 0.77));
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  overflow: hidden;
}

/* 中心内容 */
.loader-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: fadeIn 1s ease-out forwards;
  text-align: center;
}

/* 发光圈动画 */
.glow-circle {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: radial-gradient(circle, #4fc3f7, #0288d1);
  box-shadow: 0 0 20px #4fc3f7, 0 0 40px #0288d1;
  animation: pulse 1.8s ease-in-out infinite;
  margin-bottom: 20px;
}

/* 标题文字 */
.loader-title {
  font-size: 24px;
  color: #ffffff;
  font-weight: bold;
  margin-bottom: 10px;
}

/* 副标题文字 */
.loader-subtitle {
  font-size: 16px;
  color: #555555;
  opacity: 0.8;
}

/* 动画效果 */
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 20px #4fc3f7, 0 0 40px #0288d1;
  }
  50% {
    transform: scale(1.1);
    box-shadow: 0 0 30px #81d4fa, 0 0 60px #03a9f4;
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>

```



### 推荐算法

```sql
这是图片表，必须要是公开，审核状态为通过的
DROP TABLE IF EXISTS p_picture_info;
CREATE TABLE p_picture_info
(
    picture_id     varchar(128) COMMENT '图片编号',
    picture_url    VARCHAR(512) NOT NULL COMMENT '图片URL',
    dns_url        VARCHAR(512) NULL COMMENT '域名URL',
    name           VARCHAR(32)  NOT NULL COMMENT '图片名称',
    introduction   VARCHAR(512) COMMENT '简介',
    category_id    VARCHAR(128) NOT NULL COMMENT '分类编号',
    pic_size       BIGINT COMMENT '图片体积（字节）',
    pic_width      INT                   DEFAULT 0 COMMENT '图片宽度',
    pic_height     INT                   DEFAULT 0 COMMENT '图片高度',
    pic_scale      DOUBLE                DEFAULT 0 COMMENT '宽高比例',
    pic_format     VARCHAR(32) COMMENT '图片格式',
    points_need     INT                   DEFAULT 10 COMMENT '所需积分',
    user_id        VARCHAR(128) NOT NULL COMMENT '上传用户编号',
    create_time    DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    edit_time      DATETIME ON UPDATE CURRENT_TIMESTAMP COMMENT '编辑时间',
    update_time    DATETIME ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    picture_status CHAR(1)      NOT NULL COMMENT '图片状态（0公共 1私有）',
    review_status  INT          NOT NULL DEFAULT 0 COMMENT '审核状态（0待审核 1通过 2拒绝）',
    review_message VARCHAR(512) COMMENT '审核信息',
    review_user_id BIGINT COMMENT '审核人编号',
    review_time    DATETIME COMMENT '审核时间',
    thumbnail_url  VARCHAR(512) COMMENT '缩略图URL',
    look_count BIGINT NOT NULL DEFAULT 0 COMMENT '查看次数',
    collect_count BIGINT NOT NULL DEFAULT 0 COMMENT '收藏次数',
    like_count BIGINT NOT NULL DEFAULT 0 COMMENT '点赞次数',
    share_count  BIGINT NOT NULL DEFAULT 0 COMMENT '分享次数',
    download_count BIGINT NOT NULL DEFAULT 0 COMMENT '下载次数',    
    more_info      TEXT         COMMENT '更多信息',
    space_id       VARCHAR(128) COMMENT '所属空间编号',
    folder_id      VARCHAR(128) COMMENT '所属文件夹编号',
    is_delete      CHAR(1)      NOT NULL DEFAULT '0' COMMENT '删除（0否 1是）',
    deleted_time   DATETIME COMMENT '删除时间',
    PRIMARY KEY (picture_id),
    FOREIGN KEY (category_id) REFERENCES p_picture_category_info (category_id) ON UPDATE CASCADE,
    FOREIGN KEY (user_id) REFERENCES u_user_info (user_id) ON UPDATE CASCADE,
    FOREIGN KEY (space_id) REFERENCES p_space_info (space_id) ON DELETE SET NULL ON UPDATE CASCADE,
    INDEX idx_review_status (review_status),
    INDEX idx_space_folder (space_id, folder_id),
    INDEX idx_pic_color (pic_color),
    INDEX idx_picture_status (picture_status)
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4 COMMENT ='图片详细信息表';

  这是图片和标签关联的表
  DROP TABLE IF EXISTS p_picture_tag_rel_info;
CREATE TABLE p_picture_tag_rel_info
(
    picture_id varchar(128) NOT NULL COMMENT '图片编号',
    picture_name VARCHAR(32) NOT NULL COMMENT '图片名称',
    tag_id     VARCHAR(128) NOT NULL COMMENT '标签编号',
    tag_name VARCHAR(32) NOT NULL COMMENT '标签名称',
    look_count BIGINT NOT NULL DEFAULT 0 COMMENT '查看次数',
    collect_count BIGINT NOT NULL DEFAULT 0 COMMENT '收藏次数',
    like_count BIGINT NOT NULL DEFAULT 0 COMMENT '点赞次数',
    share_count  BIGINT NOT NULL DEFAULT 0 COMMENT '分享次数',
    download_count BIGINT NOT NULL DEFAULT 0 COMMENT '下载次数',  
    PRIMARY KEY (picture_id, tag_id),
    INDEX idx_picture_id (picture_id),
    INDEX idx_tag_id (tag_id),
    CONSTRAINT fk_rel_picture
        FOREIGN KEY (picture_id)
            REFERENCES p_picture_info (picture_id)
            ON DELETE CASCADE,
    CONSTRAINT fk_rel_tag
        FOREIGN KEY (tag_id)
            REFERENCES p_picture_tag_info (tag_id)
            ON DELETE CASCADE
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4 COMMENT ='图片标签关联表';
  这是图片下载表，他有每个记录的分数，并且拥有图片的标签，标签用;号分割每个标签，数据取下载成功
  DROP TABLE IF EXISTS p_picture_download_log_info;
CREATE TABLE p_picture_download_log_info
(
    download_id          VARCHAR(128) NOT NULL COMMENT '下载编号',
    download_type   CHAR(1)      NOT NULL COMMENT '下载类型',    
    user_id              VARCHAR(128) NOT NULL COMMENT '用户编号',
    picture_id           VARCHAR(128)       NOT NULL COMMENT '图片编号',
    category_id VARCHAR(128) NOT NULL COMMENT '图片分类',
    picture_name VARCHAR(32) NOT NULL COMMENT '图片名称',
    thumbnail_url VARCHAR(512) COMMENT '缩略图URL',
    tags        VARCHAR(256) COMMENT '图片标签（格式："标签1","标签2"）',
    space_id             VARCHAR(128) COMMENT '空间编号',
    points_cost          INT          NOT NULL DEFAULT 0 COMMENT '消耗积分',
    points_author_gain   INT          NOT NULL DEFAULT 0 COMMENT '作者分成积分',
    points_official_gain INT          NOT NULL DEFAULT 0 COMMENT '平台分成积分',
    points_space_gain    INT                   DEFAULT 0 COMMENT '空间分成积分',
    author_proportion           DOUBLE COMMENT '作者分成比例',
    official_proportion           DOUBLE COMMENT '官方分成比例',
    space_proportion           DOUBLE COMMENT '空间分成比例',
    create_time          DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '下载时间',
    download_status      CHAR(1)      NOT NULL DEFAULT '1' COMMENT '下载状态（1失败 0成功）',
    fail_reason          VARCHAR(255) COMMENT '失败原因',
    download_type        CHAR(1)      NOT NULL COMMENT '下载类型（0查看 1下载 2批量下载）',
    refer_source         CHAR(1) COMMENT '来源（0其他 1详情 2分享）',
   	has_statistics      CHAR(1) NOT NULL COMMENT '是否统计',
    `score` DECIMAL(5,2) NOT NULL COMMENT '分数',
    ip_addr          VARCHAR(64)  NOT NULL COMMENT 'IP地址',
    ip_address VARCHAR(64) DEFAULT NULL COMMENT 'IP属地',    
    device_id            VARCHAR(255) COMMENT '设备唯一标识',
    browser              VARCHAR(50) COMMENT '浏览器类型',
    os                   VARCHAR(50) COMMENT '操作系统',
    platform             VARCHAR(20) COMMENT '平台',
    PRIMARY KEY (download_id),
    FOREIGN KEY (user_id) REFERENCES u_user_info (user_id),
    FOREIGN KEY (picture_id) REFERENCES p_picture_info (picture_id),
    FOREIGN KEY (space_id) REFERENCES p_space_info (space_id) ON DELETE SET NULL,
    INDEX idx_download_time (create_time),
    INDEX idx_download_status (download_status),
    INDEX idx_picture (picture_id)
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4 COMMENT ='图片下载记录表';
  这是浏览记录表，也有每个记录的分数和图片的标签，目标类型：0图片 2用户 1空间，标签用;号分割每个标签
  DROP TABLE IF EXISTS p_user_view_log_info;
CREATE TABLE p_user_view_log_info (
    view_id VARCHAR(128) NOT NULL PRIMARY KEY COMMENT '浏览记录编号',
    user_id VARCHAR(128) DEFAULT NULL COMMENT '用户编号',
    target_type CHAR(1) NOT NULL COMMENT '目标类型',
    target_id VARCHAR(128) NOT NULL COMMENT '目标对象',
    target_content VARCHAR(256) DEFAULT NULL COMMENT '目标内容',
    score DECIMAL(5, 2) NOT NULL COMMENT '分数',
    category_id VARCHAR(128) DEFAULT NULL COMMENT '图片分类',
    space_id VARCHAR(128) DEFAULT NULL COMMENT '空间',
    tags VARCHAR(256) DEFAULT NULL COMMENT '图片标签',
    target_cover VARCHAR(512) DEFAULT NULL COMMENT '封面',
    create_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '查看时间',
    has_statistics      CHAR(1) NOT NULL COMMENT '是否统计',
    device_id VARCHAR(256) DEFAULT NULL COMMENT '设备唯一标识',
    browser VARCHAR(50) DEFAULT NULL COMMENT '浏览器类型',
    os VARCHAR(50) DEFAULT NULL COMMENT '操作系统',
    platform VARCHAR(20) DEFAULT NULL COMMENT '平台',
    ip_addr VARCHAR(50) DEFAULT NULL COMMENT 'IP地址',
    ip_address VARCHAR(64) DEFAULT NULL COMMENT 'IP属地',
    FOREIGN KEY (user_id) REFERENCES u_user_info(user_id),
    FOREIGN KEY (category_id) REFERENCES p_picture_category_info(category_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户浏览记录表';
这是用户行为表，他也有每个记录的分数和图片的标签目标类型：0图片 2用户 1空间,标签用;号分割每个标签，数据取图片
DROP TABLE IF EXISTS p_user_behavior_info;
CREATE TABLE `p_user_behavior_info` (
  `behavior_id` VARCHAR(128) NOT NULL COMMENT '转发编号',
  `behavior_type` CHAR(1) NOT NULL COMMENT '行为类型',
  `user_id` VARCHAR(128) NOT NULL COMMENT '用户编号',
  `target_type` CHAR(1) NOT NULL COMMENT '目标类型',
  `target_id` VARCHAR(128) NOT NULL COMMENT '目标对象',
  `target_content` VARCHAR(256) DEFAULT NULL COMMENT '目标内容',
  `score` DECIMAL(5,2) NOT NULL COMMENT '分数',
  `share_link` VARCHAR(512) DEFAULT NULL COMMENT '分享链接',
  `category_id` VARCHAR(128) DEFAULT NULL COMMENT '图片分类',
  `space_id` VARCHAR(128) DEFAULT NULL COMMENT '空间',
  `tags` VARCHAR(256) DEFAULT NULL COMMENT '图片标签',
  `target_cover` VARCHAR(512) DEFAULT NULL COMMENT '封面',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '转发时间',
  `has_statistics`      CHAR(1) NOT NULL COMMENT '是否统计',
  `device_id` VARCHAR(256) DEFAULT NULL COMMENT '设备唯一标识',
  `browser` VARCHAR(50) DEFAULT NULL COMMENT '浏览器类型',
  `os` VARCHAR(50) DEFAULT NULL COMMENT '操作系统',
  `platform` VARCHAR(20) DEFAULT NULL COMMENT '平台',
  `ip_address` VARCHAR(64) DEFAULT NULL COMMENT 'IP属地',
  PRIMARY KEY (`behavior_id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_target` (`target_type`, `target_id`),
  KEY `idx_create_time` (`create_time`),
  CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `u_user_info` (`user_id`),
  CONSTRAINT `fk_category_id` FOREIGN KEY (`category_id`) REFERENCES `p_picture_category_info` (`category_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户行为表';
我现在要根据这几个表给用户做一个个人推荐算法，分数根据他自己每条记录来计算，分数也要根据时间降权不用给每种类型降权，根据他的分数来算就行了，每条数据都有分数的，我应该怎么做这个推荐算法呢，我的是Java，可以先写SQL做事例,查询到的数据比如说下载可以取最近n条，记录、行为这些也可以取最近n条，不然后面数据量怕太大了，我的MySQL版本8.0.33
```

```
const formatPictureListByRow = () => {
  const container = document.querySelector('.horizontal-masonry')
  if (!container) return

  const containerWidth = container.clientWidth
  const baseHeight = Number(pictureHeight.value) || 250
  const spacing = 12
  const minWidth = 150

  const rows: any[][] = []
  let tempRow: PictureInfoVo[] = []
  let totalRatio = 0

  for (const pic of rawPictureList.value) {
    if (!pic.picWidth || !pic.picHeight) continue

    const r = pic.picWidth / pic.picHeight
    const estimatedWidth = r * baseHeight
    if (estimatedWidth < minWidth) {
      continue // 丢掉太瘦图
    }

    tempRow.push(pic)
    totalRatio += r

    const totalSpacing = spacing * (tempRow.length - 1)
    const targetWidth = containerWidth - totalSpacing
    const currentHeight = targetWidth / totalRatio

    if (currentHeight < baseHeight) {
      // 当前高度符合要求，开始构造该行
      const row = tempRow.map((p) => {
        const r = p.picWidth / p.picHeight
        const height = currentHeight
        const width = r * height

        return {
          ...p,
          displayWidth: width,
          displayHeight: height,
        }
      })

      rows.push(row)
      tempRow = []
      totalRatio = 0
    }
  }

  // 最后一行
  if (tempRow.length > 0) {
    const row = tempRow.map((p) => {
      const r = p.picWidth / p.picHeight
      const height = baseHeight
      const width = r * height
      return {
        ...p,
        displayWidth: width,
        displayHeight: height,
      }
    })
    rows.push(row)
  }

  pictureRows.value = rows
}
```

```
{"applyType":"1","pointsNeed":0,"priceNeed":0}
```

```js
<template>
  <div :class="className" :style="{ height, width }" ref="chartRef"/>
</template>

<script setup>
import {ref, onMounted, onBeforeUnmount, watch, nextTick} from 'vue'
import * as echarts from 'echarts'
import 'echarts/theme/macarons'

const props = defineProps({
  className: {type: String, default: 'chart'},
  width: {type: String, default: '100%'},
  height: {type: String, default: '100%'},
  chartData: {
    type: Object,
    default: () => ({
      maleData: [80, 150, 200, 120, 90, 60, 20],
      femaleData: [70, 140, 180, 130, 90, 60, 30],
      legendData: ['总人数', '男性', '女性'],
      indicator: [
        {text: '18以下'},
        {text: '19-30'},
        {text: '31-40'},
        {text: '41-50'},
        {text: '51-60'},
        {text: '60以上'},
        {text: '未知'}
      ]
    })
  }
})

const chart = ref(null)
const chartRef = ref(null)

// 构建 series
const buildSeries = (legendData, indicator, maleData, femaleData) => {
  const ageTotalData = maleData.map((v, i) => v + femaleData[i])
  const totalPeople = ageTotalData.reduce((sum, v) => sum + v, 0)

  // Calculate a cleaner max value for the radar axis
  // Find the absolute maximum value across all data series
  const allData = [...ageTotalData, ...maleData, ...femaleData];
  const absoluteMax = Math.max(...allData);

  // Determine a "nice" maximum value.
  // This can be done by finding the nearest power of 10, or by rounding up to a significant digit.
  // For simplicity, let's round up to the nearest 50 or 100 if the number is large, or simply round up.
  let max;
  if (absoluteMax < 10) {
    max = Math.ceil(absoluteMax) + 1; // Add a small buffer
  } else if (absoluteMax < 100) {
    max = Math.ceil(absoluteMax / 10) * 10; // Round to nearest 10
  } else if (absoluteMax < 500) {
    max = Math.ceil(absoluteMax / 50) * 50; // Round to nearest 50
  } else {
    max = Math.ceil(absoluteMax / 100) * 100; // Round to nearest 100
  }

  // Ensure there's always a reasonable buffer if max is 0 or very small
  if (max <= absoluteMax) {
    max = absoluteMax + Math.max(1, Math.ceil(absoluteMax * 0.1)); // Add at least 10% buffer
  }

  // Assign the calculated max to each indicator. ECharts will then distribute ticks more predictably.
  indicator.forEach(item => item.max = max);

  const colorArr = ['#4A99FF', '#4BFFFC', '#FFB74A']

  const series = []

  // 总人数、男性、女性系列
  const dataArr = [ageTotalData, maleData, femaleData]
  dataArr.forEach((arr, idx) => {
    series.push({
      name: legendData[idx],
      type: 'radar',
      data: [arr],
      lineStyle: {color: colorArr[idx]},
      areaStyle: {color: colorArr[idx], opacity: idx === 0 ? 0.2 : 0.3},
      itemStyle: {color: colorArr[idx]},
      symbolSize: 6,
      tooltip: {
        trigger: 'item'
      }
    })
  })

  // 单点 tooltip 系列
  ageTotalData.forEach((v, i) => {
    dataArr.forEach((arr, seriesIdx) => {
      series.push({
        name: legendData[seriesIdx],
        type: 'radar',
        data: [arr.map((val, j) => j === i ? val : 0)],
        lineStyle: {color: 'transparent'},
        areaStyle: {color: 'transparent'},
        symbolSize: 10,
        itemStyle: {color: colorArr[seriesIdx]},
        tooltip: {
          show: true,
          trigger: 'item',
          formatter: () => {
            const ageName = indicator[i].text
            const ageTotal = ageTotalData[i]
            const male = maleData[i]
            const female = femaleData[i]
            // Handle division by zero for percentages if ageTotal is 0
            const agePercent = ageTotal === 0 ? 0 : ((ageTotal / totalPeople) * 100).toFixed(2)
            const malePercent = ageTotal === 0 ? 0 : ((male / ageTotal) * 100).toFixed(2)
            const femalePercent = ageTotal === 0 ? 0 : ((female / ageTotal) * 100).toFixed(2)

            return `${ageName}<br/>
                    ${ageName}总人数: ${ageTotal} (占总人数: ${agePercent}%)<br/>
                    男性人数: ${male} (占年龄段: ${malePercent}%)<br/>
                    女性人数: ${female} (占年龄段: ${femalePercent}%)<br/>
                    总人数: ${totalPeople}`
          }
        },
        z: 10
      })
    })
  })
  return series
}

// 初始化图表
const initChart = () => {
  if (chart.value) {
    chart.value.dispose()
    chart.value = null
  }
  chart.value = echarts.init(chartRef.value, 'macarons')

  const {legendData, indicator, maleData, femaleData} = props.chartData

  const option = {
    title: {
      text: '年龄段人数占比',
      textStyle: {color: '#00E4FF', fontSize: 16},
      top: '5%',
      left: '2%'
    },
    color: ['#4A99FF', '#4BFFFC', '#FFB74A'],
    tooltip: {
      trigger: 'item',
      triggerOn: 'mousemove|click'
    },
    legend: {
      orient: 'vertical',
      icon: 'circle',
      data: legendData,
      bottom: 30,
      right: 20,
      itemWidth: 14,
      itemHeight: 14,
      itemGap: 21,
      textStyle: {fontSize: 14, color: '#00E4FF'}
    },
    radar: {
      name: {textStyle: {color: '#ffffff', fontSize: 16}},
      indicator: indicator,
      splitArea: {show: true, areaStyle: {color: ['rgba(255,255,255,0)', 'rgba(255,255,255,0)']}},
      axisLine: {lineStyle: {color: '#153269'}},
      splitLine: {lineStyle: {color: '#113865', width: 1}},
      center: ['40%', '50%'], // [横向位置, 纵向位置]，百分比或像素，默认是 ['50%', '50%']
      radius: '70%'           // 雷达图半径，可以是百分比（相对容器）或者像素
    },
    series: buildSeries(legendData, indicator, maleData, femaleData)
  }

  chart.value.setOption(option)
}

// resize
const handleResize = () => chart.value?.resize()

onMounted(() => {
  nextTick(() => {
    initChart()
    window.addEventListener('resize', handleResize)
  })
})

onBeforeUnmount(() => {
  chart.value?.dispose()
  window.removeEventListener('resize', handleResize)
})

// 监听数据变化
watch(() => props.chartData, () => initChart(), {deep: true})
</script>

```

INSERT INTO `lz-picture`.u_user_info (user_id) VALUES ('009');
INSERT INTO `lz-picture`.u_user_info (user_id) VALUES ('1');
INSERT INTO `lz-picture`.u_user_info (user_id) VALUES ('2');



INSERT INTO `lz-picture`.p_space_info (space_id) VALUES ('1950538503299981313');
INSERT INTO `lz-picture`.p_space_info (space_id) VALUES ('1950538697844383745');
INSERT INTO `lz-picture`.p_space_info (space_id) VALUES ('1950539775252029441');
INSERT INTO `lz-picture`.p_space_info (space_id) VALUES ('1950582726715973634');

```sql
CREATE INDEX idx_user_info_create_time ON u_user_info(create_time);
```

```
CREATE INDEX idx_user_info_ip_address ON u_user_info(ip_address);
```

```sql
CREATE INDEX idx_login_log_info_login_location ON u_login_log_info (login_location);
```

```sql
CREATE INDEX idx_p_search_log_info_create_time ON p_search_log_info (create_time);
CREATE INDEX idx_p_search_log_info_keyword ON p_search_log_info (keyword);
```

```sql
CREATE INDEX idx_p_picture_tag_rel_info_create_time ON p_picture_tag_rel_info (create_time);
CREATE INDEX idx_p_picture_tag_rel_info_tag_name ON p_picture_tag_rel_info (tag_name);
```

```sql
create INDEX idx_p_picture_info_create_time ON p_picture_info (create_time);
```

